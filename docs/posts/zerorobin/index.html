<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-GB" xml:lang="en-GB"><head>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZL7PERS15Q"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZL7PERS15Q');
</script>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jaypal Patel">
<meta name="dcterms.date" content="2025-02-24">

<title>Zerodha: Robinhood in Kurta? – Jaypal Patel</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Jaypal Patel</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../experience.html"> 
<span class="menu-text">Experience</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html"> 
<span class="menu-text">Notebook</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../captures.html"> 
<span class="menu-text">Captures</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#zerodha-robinhood-in-kurta" id="toc-zerodha-robinhood-in-kurta" class="nav-link active" data-scroll-target="#zerodha-robinhood-in-kurta">Zerodha: Robinhood in Kurta?</a>
  <ul class="collapse">
  <li><a href="#the-genesis-of-zerodha" id="toc-the-genesis-of-zerodha" class="nav-link" data-scroll-target="#the-genesis-of-zerodha">The Genesis of Zerodha</a></li>
  <li><a href="#business-model-and-revenue-streams" id="toc-business-model-and-revenue-streams" class="nav-link" data-scroll-target="#business-model-and-revenue-streams">Business Model and Revenue Streams</a>
  <ul class="collapse">
  <li><a href="#brokerage-charges" id="toc-brokerage-charges" class="nav-link" data-scroll-target="#brokerage-charges">Brokerage Charges</a></li>
  <li><a href="#other-revenue-sources" id="toc-other-revenue-sources" class="nav-link" data-scroll-target="#other-revenue-sources">Other Revenue Sources</a></li>
  <li><a href="#rebates-from-exchanges" id="toc-rebates-from-exchanges" class="nav-link" data-scroll-target="#rebates-from-exchanges">Rebates from Exchanges</a></li>
  </ul></li>
  <li><a href="#technological-innovation-and-user-experience" id="toc-technological-innovation-and-user-experience" class="nav-link" data-scroll-target="#technological-innovation-and-user-experience">Technological Innovation and User Experience</a></li>
  <li><a href="#market-impact-and-user-base" id="toc-market-impact-and-user-base" class="nav-link" data-scroll-target="#market-impact-and-user-base">Market Impact and User Base</a></li>
  <li><a href="#financial-education-and-user-empowerment" id="toc-financial-education-and-user-empowerment" class="nav-link" data-scroll-target="#financial-education-and-user-empowerment">Financial Education and User Empowerment</a></li>
  <li><a href="#regulatory-challenges-and-compliance" id="toc-regulatory-challenges-and-compliance" class="nav-link" data-scroll-target="#regulatory-challenges-and-compliance">Regulatory Challenges and Compliance</a>
  <ul class="collapse">
  <li><a href="#zerodhas-regulatory-landscape" id="toc-zerodhas-regulatory-landscape" class="nav-link" data-scroll-target="#zerodhas-regulatory-landscape">Zerodha’s Regulatory Landscape</a></li>
  <li><a href="#robinhoods-regulatory-challenges" id="toc-robinhoods-regulatory-challenges" class="nav-link" data-scroll-target="#robinhoods-regulatory-challenges">Robinhood’s Regulatory Challenges</a></li>
  <li><a href="#strategic-implications" id="toc-strategic-implications" class="nav-link" data-scroll-target="#strategic-implications">Strategic Implications</a></li>
  </ul></li>
  <li><a href="#future-outlook-and-challenges" id="toc-future-outlook-and-challenges" class="nav-link" data-scroll-target="#future-outlook-and-challenges">Future Outlook and Challenges</a>
  <ul class="collapse">
  <li><a href="#zerodhas-future-prospects" id="toc-zerodhas-future-prospects" class="nav-link" data-scroll-target="#zerodhas-future-prospects">Zerodha’s Future Prospects</a></li>
  <li><a href="#robinhoods-path-forward" id="toc-robinhoods-path-forward" class="nav-link" data-scroll-target="#robinhoods-path-forward">Robinhood’s Path Forward</a></li>
  <li><a href="#comparative-analysis" id="toc-comparative-analysis" class="nav-link" data-scroll-target="#comparative-analysis">Comparative Analysis</a></li>
  </ul></li>
  <li><a href="#conclusion-lessons-from-the-zerodha-model" id="toc-conclusion-lessons-from-the-zerodha-model" class="nav-link" data-scroll-target="#conclusion-lessons-from-the-zerodha-model">Conclusion: Lessons from the Zerodha Model</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Zerodha: Robinhood in Kurta?</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Fintech</div>
    <div class="quarto-category">India</div>
    <div class="quarto-category">Business Analysis</div>
    <div class="quarto-category">Brokerage</div>
    <div class="quarto-category">Financial Markets</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Jaypal Patel </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">24 February 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>I’ve had the privilege of witnessing the evolution of numerous disruptive companies across global markets. Among these, two firms have particularly caught my attention for their transformative impact on retail investing: Robinhood in the United States and Zerodha in India. While Robinhood has garnered significant global attention, Zerodha has been quietly revolutionizing the Indian stock market, earning it the intriguing moniker “Robinhood in a Kurta.”</p>
<p><img src="zero_robin.jpeg" class="img-fluid"></p>
<section id="zerodha-robinhood-in-kurta" class="level1">
<h1>Zerodha: Robinhood in Kurta?</h1>
<p>This comprehensive analysis will delve deep into Zerodha’s business model, exploring how this Indian fintech powerhouse has disrupted traditional brokerage models and democratized investing for millions of Indians. We’ll examine its similarities and differences with Robinhood, a similar venture from the west, and assess the unique challenges and opportunities presented by the Indian market.</p>
<section id="the-genesis-of-zerodha" class="level2">
<h2 class="anchored" data-anchor-id="the-genesis-of-zerodha">The Genesis of Zerodha</h2>
<p>Zerodha’s origin story is a testament to the power of identifying and addressing a market gap with precision and determination. Founded in 2010 by brothers Nithin and Nikhil Kamath in Bangalore, India, Zerodha emerged from Nithin’s firsthand experience as a trader. He recognized a critical need in the Indian financial landscape: a more transparent and cost-effective brokerage service.</p>
<p>The name “Zerodha” itself is a clever portmanteau, combining “Zero” and “Rodha” (Sanskrit for barrier). This naming choice was no accident; it encapsulated the company’s core mission of dismantling the obstacles that had long prevented many Indians from participating in the stock market.</p>
<p>What sets Zerodha apart from many of its global counterparts, including Robinhood, is its funding approach. While Robinhood followed the well-trodden path of venture capital funding typical of Silicon Valley startups, Zerodha took a road less traveled. The Kamath brothers opted for a bootstrapped approach, growing the company organically through its own profits.</p>
<p>This self-funded model has had profound implications for Zerodha’s growth trajectory and corporate culture. By prioritizing sustainable growth and profitability over the rapid expansion often demanded by venture capital investors, Zerodha has built a remarkably stable and profitable business. This approach has allowed the company to focus on long-term value creation rather than chasing short-term growth metrics.</p>
<p>In contrast, Robinhood, founded in 2013 by Baiju Bhatt and Vladimir Tenev, embraced the Silicon Valley startup model. Backed by significant venture capital funding, Robinhood pursued aggressive growth strategies, prioritizing user acquisition and market disruption over immediate profitability. This approach allowed Robinhood to quickly gain market share and mindshare in the U.S., but also led to challenges in terms of regulatory scrutiny and financial sustainability.</p>
<p>In my opinion, Zerodha’s bootstrapped growth model offers valuable lessons for entrepreneurs and business leaders. It demonstrates that even in the capital-intensive world of fintech, it’s possible to build a market-leading company without external funding. This approach can lead to greater control over the company’s direction, reduced pressure for unsustainable growth, and a stronger focus on profitability from day one.</p>
<p>However, it’s important to note that this model also comes with its own set of challenges. Bootstrapped companies often grow more slowly initially and may struggle to compete with well-funded rivals in areas requiring significant capital expenditure, such as marketing or technology infrastructure. Zerodha’s success in overcoming these potential pitfalls is a testament to the strength of its business model and the market need it addresses.</p>
</section>
<section id="business-model-and-revenue-streams" class="level2">
<h2 class="anchored" data-anchor-id="business-model-and-revenue-streams">Business Model and Revenue Streams</h2>
<p>Zerodha’s business model represents a paradigm shift in the Indian brokerage landscape. At its core, Zerodha operates as a discount broker, but its approach goes beyond simply offering lower fees. The company has reimagined the entire brokerage experience for the digital age, combining cost-effectiveness with technological innovation.</p>
<p>Let’s break down Zerodha’s revenue streams:</p>
<section id="brokerage-charges" class="level3">
<h3 class="anchored" data-anchor-id="brokerage-charges">Brokerage Charges</h3>
<ul>
<li>Zero commission on equity delivery trades: This was a game-changer in the Indian market, where traditional brokers typically charged a percentage of the trade value.</li>
<li>Flat fee of ₹20 or 0.03% (whichever is lower) per order executed on intraday trades across equity, currency, and commodities: This transparent and straightforward pricing model appeals to active traders who may execute multiple trades per day.</li>
<li>Flat ₹20 per order for options trades: Again, this simplifies costs for options traders, who often faced complex fee structures with traditional brokers.</li>
</ul>
<p>This pricing model achieves several strategic objectives: * It attracts cost-conscious traders and investors. * It encourages higher trading volumes, as the low, flat fees make multiple trades more economical. * It provides clarity and predictability, enhancing user trust.</p>
</section>
<section id="other-revenue-sources" class="level3">
<h3 class="anchored" data-anchor-id="other-revenue-sources">Other Revenue Sources</h3>
<ul>
<li>Interest income from idle cash balances and margin funding: This is a significant revenue stream for Zerodha. By efficiently managing client funds, the company can earn interest on uninvested cash.</li>
<li>Subscription services for premium tools and platforms: Products like Kite API and Streak for algorithmic trading cater to more sophisticated traders, providing an additional revenue stream and differentiating Zerodha from basic discount brokers.</li>
<li>Commissions on direct mutual fund investments through its Coin platform: This diversifies Zerodha’s offerings beyond stock trading and taps into the growing mutual fund market in India.</li>
</ul>
</section>
<section id="rebates-from-exchanges" class="level3">
<h3 class="anchored" data-anchor-id="rebates-from-exchanges">Rebates from Exchanges</h3>
<p>Historically, about 10% of Zerodha’s revenue came from exchange rebates for high trading volumes. However, recent regulatory changes mean brokers will no longer earn these rebates going forward. This change highlights the importance of Zerodha’s diversified revenue model and its ability to adapt to regulatory shifts.</p>
<p>Comparing this to Robinhood’s model, we see some key differences. Robinhood relies heavily on payment for order flow (PFOF), a practice where market makers pay brokers for routing customer orders to them. This model allows Robinhood to offer commission-free trading on all trades, not just equity delivery trades like Zerodha. However, PFOF is not allowed in India, which explains the difference in approaches.</p>
<p>Robinhood’s revenue model includes:</p>
<ul>
<li><strong>Payment for Order Flow (PFOF):</strong> This controversial practice accounts for a significant portion of Robinhood’s revenue.</li>
<li><strong>Net Interest Income:</strong> Similar to Zerodha, Robinhood earns interest on uninvested cash balances and through margin lending.</li>
<li><strong>Robinhood Gold:</strong> A premium subscription service offering features like larger instant deposits and professional research.</li>
<li><strong>Other Revenue:</strong> Including income from cash management features and fees for various services.</li>
</ul>
<p>While Robinhood’s model has allowed for rapid user growth and completely commission-free trading, it has also attracted regulatory scrutiny and criticism for potential conflicts of interest. Zerodha’s more transparent fee structure, while not entirely free, may provide it with a regulatory advantage and potentially greater customer trust in the long run.</p>
<p>From a strategic perspective, Zerodha’s revenue model offers several advantages:</p>
<ul>
<li><strong>Alignment with customer interests:</strong> The flat-fee model means Zerodha’s revenues are not directly tied to the size of customer trades, reducing potential conflicts of interest.</li>
<li><strong>Scalability:</strong> The technology-driven, low-cost model allows Zerodha to handle a large number of customers and trades without a proportional increase in costs.</li>
<li><strong>Flexibility:</strong> The diverse revenue streams provide resilience against market fluctuations and regulatory changes.</li>
</ul>
<p>However, this model also presents challenges:</p>
<ul>
<li><strong>Pressure on margins:</strong> The low-cost model means Zerodha must operate extremely efficiently to maintain profitability.</li>
<li><strong>Regulatory risk:</strong> As seen with the exchange rebate change, regulatory shifts can significantly impact revenue streams.</li>
<li><strong>Dependence on volume:</strong> The flat-fee model relies on high trading volumes to generate significant revenue, making Zerodha potentially vulnerable to periods of market inactivity.</li>
</ul>
</section>
</section>
<section id="technological-innovation-and-user-experience" class="level2">
<h2 class="anchored" data-anchor-id="technological-innovation-and-user-experience">Technological Innovation and User Experience</h2>
<p>In the digital age, technology is not just an enabler but a key differentiator in the financial services sector. Zerodha has recognized this from its inception, placing technological innovation at the heart of its business strategy. This focus has allowed Zerodha to offer a user experience that rivals or exceeds that of many global fintech leaders, including Robinhood.</p>
<p>Let’s examine Zerodha’s key technological innovations:</p>
<ul>
<li><p><strong>Kite:</strong> This is Zerodha’s flagship trading platform, available on both web and mobile. Kite stands out for its clean, intuitive interface combined with powerful features that cater to both novice and experienced traders. Key features include:</p>
<ul>
<li>Real-time streaming quotes</li>
<li>Advanced charting tools</li>
<li>One-click trading</li>
<li>Customizable watchlists</li>
<li>Integration with third-party tools and APIs</li>
</ul></li>
<li><p><strong>Coin:</strong> This platform for direct mutual fund investments is a strategic expansion of Zerodha’s offerings. By allowing users to invest in mutual funds without paying commissions, Coin aligns with Zerodha’s overall philosophy of reducing costs for investors.</p></li>
<li><p><strong>Console:</strong> This comprehensive portfolio tracking and tax reporting tool addresses a critical need for Indian investors. By simplifying the often complex process of tracking investments and calculating tax liabilities, Console adds significant value to Zerodha’s ecosystem.</p></li>
<li><p><strong>Sentinel:</strong> This alerts and notifications system for price movements and corporate actions keeps users informed about their investments. It’s a prime example of how Zerodha uses technology to empower its users with timely information.</p></li>
<li><p><strong>Kite Connect API:</strong> By offering an API, Zerodha has opened up its platform to third-party developers, fostering an ecosystem of additional tools and services. This not only adds value for users but also positions Zerodha as a platform rather than just a service.</p></li>
</ul>
<p>From a user experience perspective, Zerodha has made several innovative choices:</p>
<ul>
<li><p><strong>“Nudge” feature:</strong> This tool discourages over-trading by alerting users when they’re trading too frequently. It’s a responsible approach that prioritizes user welfare over short-term profits.</p></li>
<li><p><strong>“Kill Switch”:</strong> This feature allows users to temporarily block themselves from trading, helping them avoid impulsive decisions during volatile market conditions.</p></li>
<li><p><strong>Minimal design:</strong> Unlike some competitors who clutter their interfaces with excessive information, Zerodha opts for a clean, minimal design that reduces cognitive load for users.</p></li>
</ul>
<p>Comparing this to Robinhood’s technological approach, we see some interesting contrasts:</p>
<ul>
<li><p><strong>Mobile-first design:</strong> Robinhood’s app is renowned for its sleek, user-friendly interface that made stock trading feel accessible and even fun for a new generation of investors.</p></li>
<li><p><strong>Gamification elements:</strong> Robinhood has been criticized for incorporating game-like elements that may encourage excessive trading. This is in stark contrast to Zerodha’s “Nudge” feature.</p></li>
<li><p><strong>Cryptocurrency integration:</strong> Robinhood offers seamless cryptocurrency trading alongside stocks, which Zerodha does not currently provide.</p></li>
<li><p><strong>Fractional shares:</strong> Robinhood allows users to buy fractional shares of expensive stocks, a feature not currently offered by Zerodha.</p></li>
</ul>
<p>While both companies have leveraged technology to disrupt traditional brokerage models, their approaches reflect their different philosophies and target markets. Robinhood’s focus on simplicity and engagement has been highly effective in attracting younger, less experienced investors in the U.S. market. However, it has also led to concerns about encouraging risky trading behaviors.</p>
<p>Zerodha, on the other hand, seems to have struck a balance between user-friendliness and providing professional-grade tools. Its approach appears more focused on empowering users to make informed decisions rather than simply making trading easy or entertaining.</p>
<p>Zerodha’s technological approach offers several strategic advantages:</p>
<ul>
<li><p><strong>Differentiation:</strong> In a market where many brokers offer similar services, Zerodha’s superior technology and user experience set it apart.</p></li>
<li><p><strong>Scalability:</strong> The robust, API-driven architecture allows Zerodha to handle large volumes of trades and users without a proportional increase in costs.</p></li>
<li><p><strong>User retention:</strong> By offering a suite of integrated tools (Kite, Coin, Console, Sentinel), Zerodha increases switching costs for users, promoting loyalty.</p></li>
<li><p><strong>Adaptability:</strong> The modular nature of Zerodha’s technology stack allows it to quickly adapt to market changes and user needs.</p></li>
</ul>
<p>However, this technology-first approach also comes with challenges:</p>
<ul>
<li><p><strong>Continuous innovation:</strong> To maintain its edge, Zerodha must continuously innovate, which requires significant ongoing investment in R&amp;D.</p></li>
<li><p><strong>Technical debt:</strong> Rapid innovation can sometimes lead to accumulation of technical debt, which may need to be addressed in the future.</p></li>
<li><p><strong>User education:</strong> Advanced features require user education, which Zerodha addresses through its various educational initiatives.</p></li>
</ul>
</section>
<section id="market-impact-and-user-base" class="level2">
<h2 class="anchored" data-anchor-id="market-impact-and-user-base">Market Impact and User Base</h2>
<p>Zerodha’s impact on the Indian stock market has been nothing short of revolutionary. To fully appreciate this impact, we need to understand the context of the Indian financial market before Zerodha’s entry.</p>
<p>Historically, stock market participation in India was low compared to many developed markets. This was due to several factors:</p>
<ul>
<li>High costs of trading</li>
<li>Complexity of opening and maintaining a trading account</li>
<li>Lack of user-friendly platforms</li>
<li>Limited financial literacy among the general population</li>
</ul>
<p>Zerodha has played a significant role in addressing each of these barriers:</p>
<ul>
<li>As of 2024, Zerodha serves over 12 million clients. This represents a significant portion of India’s active retail investor base.</li>
<li>The company handles over 20% of India’s daily trading volume. This statistic is particularly impressive given that Zerodha achieved this market share in just over a decade.</li>
<li>Zerodha has been consistently profitable, with revenues of ₹8,320 crore and profits of ₹4,700 crore in FY2024. This financial success demonstrates the viability of its low-cost, technology-driven model.</li>
<li>Its success has spawned numerous other discount brokers in India, transforming the country’s brokerage landscape. This has led to increased competition and further reduction in costs for retail investors across the board.</li>
</ul>
<p>The impact of these numbers goes beyond mere market share. Zerodha has played a crucial role in democratizing stock market participation in India. By lowering costs and simplifying the trading process, it has made investing accessible to a much broader segment of the Indian population.</p>
<p>Moreover, Zerodha’s success has forced traditional brokers to adapt. Many have had to lower their fees and improve their technological offerings to remain competitive. This has benefited Indian investors across the board, not just Zerodha’s direct customers.</p>
<p>From a macroeconomic perspective, increased retail participation in the stock market can have several positive effects:</p>
<ul>
<li>It can lead to better capital allocation in the economy, as more companies can access public markets for funding.</li>
<li>It can help individuals build long-term wealth, particularly important in a country like India where pension coverage is limited.</li>
<li>It can increase financial literacy among the general population, as more people become engaged with financial markets.</li>
</ul>
<p>Comparing Zerodha’s market impact to Robinhood’s in the U.S., we see some interesting parallels and differences:</p>
<ul>
<li><p><strong>User base:</strong> As of 2024, Robinhood has over 23 million funded accounts, compared to Zerodha’s 12 million. However, given the differences in market size and maturity between the U.S. and India, Zerodha’s numbers are impressive.</p></li>
<li><p><strong>Market disruption:</strong> Both companies have significantly increased retail participation in their respective markets and forced traditional brokers to adapt their models.</p></li>
<li><p><strong>Profitability:</strong> Zerodha has been consistently profitable for years, while Robinhood has struggled with profitability. This difference highlights the potential sustainability challenges of the PFOF-reliant model.</p></li>
<li><p><strong>Market impact:</strong> While Robinhood disrupted an already well-developed retail investing market in the U.S., Zerodha has played a key role in developing retail investing culture in India. This could be seen as a more transformative impact.</p></li>
<li><p><strong>User demographics:</strong> Both companies have a strong appeal to younger investors.</p></li>
</ul>
<p>From a strategic perspective, Zerodha’s market position offers several advantages:</p>
<ul>
<li><p><strong>Network effects:</strong> As more users join the platform, it becomes more valuable for all users.</p></li>
<li><p><strong>Data advantage:</strong> Access to valuable data for product development.</p></li>
<li><p><strong>Brand recognition:</strong> Being synonymous with low-cost broking in India.</p></li>
</ul>
<p>However, this market leadership also presents challenges:</p>
<ul>
<li>Increased regulatory scrutiny.</li>
<li>Being a target for competition.</li>
<li>Pressure to continually innovate.</li>
</ul>
<p>In conclusion, while both Zerodha and Robinhood have significantly impacted their respective markets, Zerodha’s approach appears to be more sustainable and aligned with long-term market development in India. Its focus on education, responsible trading practices, and transparent pricing model positions it well for continued growth and influence in the Indian financial landscape.</p>
</section>
<section id="financial-education-and-user-empowerment" class="level2">
<h2 class="anchored" data-anchor-id="financial-education-and-user-empowerment">Financial Education and User Empowerment</h2>
<p>One of the most striking aspects of Zerodha’s business model, particularly when compared to Robinhood, is its strong emphasis on financial education and user empowerment. This focus is not just a corporate social responsibility initiative, but a core part of Zerodha’s business strategy.</p>
<p>Let’s examine Zerodha’s key educational initiatives:</p>
<ol type="1">
<li><p><strong>Varsity:</strong> This is an extensive, free online learning module covering various aspects of finance and trading. Varsity goes beyond basic investing concepts to cover advanced topics like technical analysis, fundamental analysis, and even coding for trading algorithms. The content is presented in an accessible, jargon-free manner, making it valuable for both beginners and experienced traders.</p></li>
<li><p><strong>Trading Q&amp;A:</strong> This platform allows users to ask questions and get answers from experienced traders and Zerodha staff. It creates a community of learners and experts, fostering knowledge sharing and peer-to-peer learning.</p></li>
<li><p><strong>YouTube Channel:</strong> Zerodha produces regular educational content in multiple Indian languages. This multilingual approach is crucial in a diverse country like India, where English is not the first language for many potential investors.</p></li>
<li><p><strong>TradingQ&amp;A:</strong> This gamified app helps users learn trading concepts through quizzes and challenges. By making learning interactive and enjoyable, Zerodha increases engagement and knowledge retention.</p></li>
<li><p><strong>Z-Connect:</strong> This blog provides updates on product features, market insights, and educational content. It serves as a direct communication channel between Zerodha and its users.</p></li>
</ol>
<p>From a strategic perspective, this focus on education serves several purposes:</p>
<ul>
<li><strong>User Acquisition:</strong> By providing high-quality, free educational content, Zerodha attracts potential customers who are interested in learning about investing.</li>
<li><strong>User Retention:</strong> Educated users are more likely to become long-term, successful investors, reducing churn and increasing lifetime value.</li>
<li><strong>Risk Management:</strong> By promoting responsible trading practices, Zerodha potentially reduces the risk of user losses, which could lead to account closures or regulatory scrutiny.</li>
<li><strong>Brand Building:</strong> The educational initiatives position Zerodha as a trusted advisor, not just a trading platform. This builds brand loyalty and positive word-of-mouth.</li>
<li><strong>Market Expansion:</strong> By educating the public about investing, Zerodha is effectively expanding its potential market.</li>
</ul>
<p>Comparing this approach to Robinhood’s, we see a stark contrast. While Robinhood has faced criticism for potentially encouraging risky trading behaviors through its gamified interface, Zerodha has taken a more responsible approach. Robinhood’s educational offerings, such as “Robinhood Learn” and “Robinhood Snacks,” are less comprehensive and integrated into the user experience compared to Zerodha’s initiatives.</p>
<p>Robinhood’s approach has been:</p>
<ul>
<li>More focused on simplifying investing concepts, sometimes at the expense of depth.</li>
<li>Less integrated with the trading experience.</li>
<li>More centered on quick, digestible content rather than comprehensive learning modules.</li>
</ul>
<p>By prioritizing education and responsible trading, Zerodha is playing a long game, potentially sacrificing short-term trading volume for long-term user success and loyalty. This approach aligns well with the needs of the Indian market, where financial literacy levels are generally lower than in the U.S., and there’s a greater need for foundational education.</p>
<p>However, Zerodha’s educational approach also presents challenges:</p>
<ul>
<li><strong>Cost:</strong> Producing high-quality educational content is resource-intensive.</li>
<li><strong>Balancing depth with accessibility:</strong> Ensuring that content is comprehensive yet not overwhelming for beginners.</li>
<li><strong>Keeping content up-to-date:</strong> The financial world is dynamic, requiring constant updates to educational materials.</li>
</ul>
<p>Despite these challenges, Zerodha’s commitment to education appears to be paying off in terms of user trust and market position. It sets a standard for responsible fintech practices that other companies, including those in more developed markets, could learn from.</p>
</section>
<section id="regulatory-challenges-and-compliance" class="level2">
<h2 class="anchored" data-anchor-id="regulatory-challenges-and-compliance">Regulatory Challenges and Compliance</h2>
<p>The regulatory landscape is a critical factor in shaping the operations and strategies of fintech companies. Both Zerodha and Robinhood have faced regulatory challenges, but the nature and intensity of these challenges differ significantly due to the distinct regulatory environments in India and the United States.</p>
<section id="zerodhas-regulatory-landscape" class="level3">
<h3 class="anchored" data-anchor-id="zerodhas-regulatory-landscape">Zerodha’s Regulatory Landscape</h3>
<p>Zerodha operates in a highly regulated Indian financial market, overseen primarily by the Securities and Exchange Board of India (SEBI). Key aspects of Zerodha’s regulatory environment include:</p>
<ol type="1">
<li><p><strong>Strict KYC Norms:</strong> Indian regulations require thorough Know Your Customer (KYC) processes, which Zerodha has integrated into its digital onboarding system.</p></li>
<li><p><strong>No Payment for Order Flow:</strong> Unlike in the U.S., payment for order flow is not permitted in India, which has shaped Zerodha’s revenue model differently from Robinhood’s.</p></li>
<li><p><strong>Margin Trading Regulations:</strong> SEBI has implemented strict rules on margin trading, including peak margin reporting and penalties for non-compliance.</p></li>
<li><p><strong>Investor Protection Measures:</strong> Regulations mandate clear risk disclosures and impose limits on certain high-risk trading activities for retail investors.</p></li>
</ol>
<p>Zerodha has generally maintained a strong focus on regulatory compliance from its inception. Its straightforward fee structure and emphasis on user education have helped it avoid many of the controversies faced by some of its global counterparts.</p>
<p>However, Zerodha is not immune to regulatory challenges. Recent changes by SEBI, such as new rules for index derivatives and increased Securities Transaction Tax, pose challenges to Zerodha’s revenue model. These are industry-wide issues rather than company-specific problems, but they require Zerodha to adapt its business model.</p>
</section>
<section id="robinhoods-regulatory-challenges" class="level3">
<h3 class="anchored" data-anchor-id="robinhoods-regulatory-challenges">Robinhood’s Regulatory Challenges</h3>
<p>In contrast, Robinhood has faced more intense regulatory scrutiny in the United States:</p>
<ol type="1">
<li><p><strong>Payment for Order Flow Controversy:</strong> Robinhood’s primary revenue source, PFOF, has been under intense scrutiny from the SEC, with ongoing debates about whether it truly benefits retail investors.</p></li>
<li><p><strong>Gamification Concerns:</strong> Regulators have expressed concerns about Robinhood’s app design potentially encouraging excessive trading among inexperienced investors.</p></li>
<li><p><strong>Trading Restrictions:</strong> Robinhood faced backlash and legal challenges for restricting trading on certain stocks during the GameStop frenzy in 2021.</p></li>
<li><p><strong>Fines and Settlements:</strong> In 2020, Robinhood paid a $65 million fine to the SEC for misleading customers about its revenue sources and failing to satisfy its duty of best execution.</p></li>
</ol>
<p>The contrast in regulatory experiences reflects the different approaches taken by these companies and the regulatory environments in which they operate. Robinhood’s aggressive growth and controversial practices have led to significant regulatory pushback, while Zerodha’s more conservative approach has helped it navigate the regulatory landscape more smoothly.</p>
</section>
<section id="strategic-implications" class="level3">
<h3 class="anchored" data-anchor-id="strategic-implications">Strategic Implications</h3>
<p>From a strategic perspective, the regulatory environment has several implications for both companies:</p>
<ol type="1">
<li><p><strong>Product Development:</strong> Regulatory considerations heavily influence the types of products and features that can be offered. Zerodha’s inability to offer fractional shares, for instance, is partly due to regulatory constraints.</p></li>
<li><p><strong>Revenue Model:</strong> Regulations directly impact how these companies can generate revenue. The prohibition of PFOF in India has led Zerodha to develop a different revenue model from Robinhood.</p></li>
<li><p><strong>User Experience:</strong> Regulatory requirements around risk disclosures, KYC processes, and trading limits all impact the user experience.</p></li>
<li><p><strong>Compliance Costs:</strong> Both companies must invest significantly in compliance infrastructure and personnel to meet regulatory requirements.</p></li>
<li><p><strong>Market Expansion:</strong> Regulatory differences between countries pose challenges for international expansion. This is particularly relevant as both companies consider growth beyond their home markets.</p></li>
</ol>
<p>Looking ahead, both Zerodha and Robinhood will need to continue adapting to evolving regulatory landscapes. For Zerodha, this may mean finding new revenue streams as traditional sources like exchange rebates are impacted by regulatory changes. For Robinhood, addressing regulatory concerns around PFOF and gamification will be crucial for long-term sustainability.</p>
<p>The ability to navigate complex regulatory environments while still innovating and growing will be a key determinant of success for both companies in the coming years. Zerodha’s more conservative approach may provide it with an advantage in this regard, potentially offering a model for sustainable growth in highly regulated financial markets.</p>
</section>
</section>
<section id="future-outlook-and-challenges" class="level2">
<h2 class="anchored" data-anchor-id="future-outlook-and-challenges">Future Outlook and Challenges</h2>
<p>As Zerodha and Robinhood look to the future, both companies face a range of opportunities and challenges. Their ability to navigate these will be crucial in determining their long-term success and impact on the financial services landscape.</p>
<section id="zerodhas-future-prospects" class="level3">
<h3 class="anchored" data-anchor-id="zerodhas-future-prospects">Zerodha’s Future Prospects</h3>
<p>Zerodha’s future outlook is shaped by several factors:</p>
<ol type="1">
<li><p><strong>Market Expansion:</strong> While Zerodha has achieved significant market share in India, there’s still room for growth. The company could potentially expand its user base by targeting underserved segments of the population or exploring international markets.</p></li>
<li><p><strong>Product Diversification:</strong> Zerodha may look to expand its product offerings beyond stock trading and mutual funds. Potential areas could include:</p>
<ul>
<li>Cryptocurrency trading (subject to regulatory approval)</li>
<li>Robo-advisory services</li>
<li>Personal finance management tools</li>
<li>Insurance products</li>
</ul></li>
<li><p><strong>Technological Innovation:</strong> Continuing to lead in technological innovation will be crucial. This could involve:</p>
<ul>
<li>Enhanced AI and machine learning capabilities for personalized user experiences</li>
<li>Improved data analytics for better decision-making tools</li>
<li>Blockchain integration for more efficient and transparent processes</li>
</ul></li>
<li><p><strong>Regulatory Adaptation:</strong> As regulations evolve, Zerodha will need to continually adapt its business model. This may involve finding new revenue streams to replace those impacted by regulatory changes.</p></li>
<li><p><strong>Financial Education:</strong> Expanding and enhancing its educational initiatives could help Zerodha further differentiate itself and contribute to growing the overall market for financial services in India.</p></li>
</ol>
<p>Challenges for Zerodha include:</p>
<ul>
<li>Increased competition from both traditional financial institutions and new fintech entrants</li>
<li>Potential regulatory changes that could impact its business model</li>
<li>Maintaining its technological edge while managing the costs of continuous innovation</li>
<li>Balancing growth with its commitment to responsible investing practices</li>
</ul>
</section>
<section id="robinhoods-path-forward" class="level3">
<h3 class="anchored" data-anchor-id="robinhoods-path-forward">Robinhood’s Path Forward</h3>
<p>Robinhood’s future involves navigating a different set of opportunities and challenges:</p>
<ol type="1">
<li><p><strong>Regulatory Scrutiny:</strong> Addressing ongoing regulatory concerns, particularly around payment for order flow and gamification, will be crucial for Robinhood’s long-term sustainability.</p></li>
<li><p><strong>Diversification:</strong> Robinhood may need to diversify its revenue streams to reduce reliance on PFOF. This could involve:</p>
<ul>
<li>Expanding its cryptocurrency offerings</li>
<li>Developing more premium features for Robinhood Gold</li>
<li>Exploring international markets (though this comes with its own regulatory challenges)</li>
</ul></li>
<li><p><strong>User Education:</strong> Enhancing its educational offerings could help Robinhood address criticisms about encouraging risky trading behaviors among inexperienced investors.</p></li>
<li><p><strong>Profitability:</strong> After struggling with profitability, Robinhood will need to focus on sustainable growth and cost management.</p></li>
<li><p><strong>Competition:</strong> With traditional brokers now offering commission-free trading, Robinhood needs to find new ways to differentiate itself.</p></li>
</ol>
<p>Challenges for Robinhood include:</p>
<ul>
<li>Potential regulatory changes that could significantly impact its business model</li>
<li>Rebuilding trust with users and regulators following controversies</li>
<li>Competing with well-established financial institutions that have adopted similar fee structures</li>
<li>Balancing user growth with responsible investing practices</li>
</ul>
</section>
<section id="comparative-analysis" class="level3">
<h3 class="anchored" data-anchor-id="comparative-analysis">Comparative Analysis</h3>
<p>While both companies face challenges, Zerodha appears to be in a stronger position for sustainable long-term growth. Its profitable business model, focus on user education, and relatively smooth regulatory relationships provide a solid foundation for future expansion.</p>
<p>Robinhood, while having achieved rapid growth and market disruption, faces more significant challenges in terms of regulatory scrutiny and achieving consistent profitability. Its future success will largely depend on its ability to address these issues while maintaining its appeal to younger investors.</p>
<p>Both companies will need to continue innovating to stay ahead in the rapidly evolving fintech landscape. The ability to adapt to changing user needs, regulatory requirements, and technological advancements will be key to their future success.</p>
</section>
</section>
<section id="conclusion-lessons-from-the-zerodha-model" class="level2">
<h2 class="anchored" data-anchor-id="conclusion-lessons-from-the-zerodha-model">Conclusion: Lessons from the Zerodha Model</h2>
<p>As we conclude our analysis of Zerodha and its comparison with Robinhood, several key lessons emerge that could be valuable for fintech companies, investors, and regulators worldwide.</p>
<ol type="1">
<li><p><strong>Sustainable Growth Over Rapid Expansion:</strong> Zerodha’s bootstrapped, profitability-focused approach contrasts sharply with the venture-backed, growth-at-all-costs model often seen in the tech world. Its success demonstrates that sustainable, organic growth can be a viable strategy even in the fast-paced fintech sector.</p></li>
<li><p><strong>User Education as a Competitive Advantage:</strong> Zerodha’s strong emphasis on financial education not only helps in user acquisition and retention but also positions the company as a responsible player in the financial ecosystem. This approach could be particularly valuable in markets with low financial literacy.</p></li>
<li><p><strong>Technology as an Enabler, Not Just a Disruptor:</strong> While both Zerodha and Robinhood use technology to disrupt traditional finance, Zerodha’s approach focuses more on empowering users with professional-grade tools rather than simply making trading easy or entertaining. This strategy may lead to more informed and potentially more successful investors in the long run.</p></li>
<li><p><strong>Regulatory Compliance as a Core Strategy:</strong> Zerodha’s proactive approach to regulatory compliance, while potentially limiting short-term growth, has allowed it to build a more stable and trusted platform in the long term. This contrasts with Robinhood’s more confrontational relationship with regulators.</p></li>
<li><p><strong>Market-Specific Approaches:</strong> The differences between Zerodha and Robinhood highlight the importance of tailoring fintech solutions to specific market conditions, regulatory environments, and cultural contexts.</p></li>
<li><p><strong>Balancing Accessibility with Responsibility:</strong> Both companies have made investing more accessible, but Zerodha’s focus on responsible trading practices (like the “Nudge” feature) offers a model for balancing increased market participation with investor protection.</p></li>
<li><p><strong>Diversified Revenue Streams:</strong> Zerodha’s multiple revenue sources provide resilience against regulatory changes and market fluctuations, a lesson that could be valuable for other fintech companies relying heavily on a single revenue model.</p></li>
</ol>
<p>In essence, Zerodha’s journey from a bootstrapped startup to India’s largest retail broker offers a compelling alternative to the high-growth, high-burn model often associated with fintech unicorns. Its success suggests that it’s possible to democratize finance while also prioritizing user education, responsible practices, and sustainable business models.</p>
<p>As the global fintech landscape continues to evolve, the contrasting approaches of Zerodha and Robinhood provide valuable case studies for entrepreneurs, investors, and regulators. They demonstrate that there’s no one-size-fits-all approach to disrupting financial services, and that the most successful models will likely be those that balance innovation with responsibility, and growth with sustainability.</p>
<p>The “Robinhood in a Kurta” moniker, while catchy, perhaps undersells Zerodha’s unique approach. Rather than simply being an Indian version of Robinhood, Zerodha has charted its own course, one that may offer valuable lessons for fintech companies around the world. As we look to the future of financial services, companies that can blend technological innovation with financial responsibility and user empowerment, as Zerodha has done, are likely to be the ones that make a lasting impact on the industry and on the financial well-being of their users.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>